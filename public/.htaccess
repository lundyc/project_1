RewriteEngine On
RewriteBase /

# Prevent caching of CSS and JavaScript files
<FilesMatch "\.(css|js)$">
    FileETag None
    Header unset ETag
    Header set Cache-Control "max-age=0, no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires "Wed, 11 Jan 1984 05:00:00 GMT"
</FilesMatch>

# Block direct access to admin directory - route through index.php instead
RewriteRule ^admin/?$ index.php [L]

# Allow direct access to existing files (assets, uploads, etc.) but not directories
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

# Send every other request (admin, matches, api, etc.) through the front controller
RewriteRule ^ index.php [L]
