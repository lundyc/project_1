# Disable directory listings
Options -Indexes

# Block access to Python directory
RewriteEngine On
RewriteRule ^py(/|$) - [F,L]

# Block access to virtual environment
RewriteRule ^\.venv(/|$) - [F,L]

# Block direct access to sensitive file types
<FilesMatch "\.(py|sh|log|env|venv)$">
    Require all denied
</FilesMatch>

# RESTful API rewrite for periods list
RewriteEngine On
RewriteRule ^api/matches/([0-9]+)/periods/list$ app/api/matches/periods/list.php?match_id=$1 [QSA,L]
